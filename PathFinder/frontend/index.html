<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TNAV â€“ Tesla Navigation</title>
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body class="evnav-theme">
  <header class="evnav-header">
    <div class="evnav-title">
      <h1>TNAV</h1>
      <span class="evnav-subtitle">Tesla Navigation Â· Supercharger-Optimized Routing</span>
    </div>

    <div class="evnav-controls">
      <div class="control-group">
        <label for="vehicle-select">Vehicle</label>
        <select id="vehicle-select"></select>
      </div>

      <div class="search-bar-group">
        <div class="search-bar">
          <span class="search-icon">ğŸ“</span>
          <input type="text" id="start-address" placeholder="Choose starting location" />
        </div>
        <div class="search-bar">
          <span class="search-icon">ğŸ¯</span>
          <input type="text" id="end-address" placeholder="Choose destination" />
        </div>
      </div>

      <div class="control-group">
        <span class="control-label">Mode</span>
        <div class="mode-toggle" id="mode-toggle">
          <button data-mode="fastest" class="mode-btn">Fastest</button>
          <button data-mode="balanced" class="mode-btn mode-btn-active">Balanced</button>
          <button data-mode="energy_saver" class="mode-btn">Energy Saver</button>
        </div>
      </div>

      <div class="control-group">
        <label for="initial-soc">Initial SoC</label>
        <div class="soc-slider-wrapper">
          <input type="range" id="initial-soc" min="20" max="100" value="80" />
          <span id="initial-soc-label">80%</span>
        </div>
      </div>

      <div class="control-group">
        <label for="traffic-intensity">Traffic</label>
        <div class="soc-slider-wrapper">
          <input type="range" id="traffic-intensity" min="0" max="100" value="20" />
          <span id="traffic-intensity-label">Low</span>
        </div>
      </div>

      <button id="plan-route-btn" class="primary-action">Navigate</button>
      <button id="test-route-btn" class="test-action">ğŸ§ª Test Route (Demo)</button>
    </div>
  </header>

  <main class="evnav-main">
    <section class="evnav-map-panel">
      <div id="map-container" class="map-container">
        <!-- SVG map is injected here -->
      </div>
      <div class="evnav-legend">
        <span class="legend-item"><span class="legend-swatch legend-road-local"></span>Local</span>
        <span class="legend-item"><span class="legend-swatch legend-road-arterial"></span>Arterial</span>
        <span class="legend-item"><span class="legend-swatch legend-road-highway"></span>Highway</span>
        <span class="legend-item"><span class="legend-node legend-node-charger"></span>Charger</span>
        <span class="legend-item"><span class="legend-route"></span>Planned Route</span>
      </div>
    </section>

    <aside class="evnav-side-panel">
      <section class="panel-section">
        <h2>Trip Summary</h2>
        <div class="trip-metrics">
          <div class="metric">
            <span class="metric-label">Total Time</span>
            <span class="metric-value" id="metric-time">â€“</span>
          </div>
          <div class="metric">
            <span class="metric-label">Energy Used</span>
            <span class="metric-value" id="metric-energy">â€“</span>
          </div>
          <div class="metric">
            <span class="metric-label">Charging Stops</span>
            <span class="metric-value" id="metric-charges">â€“</span>
          </div>
          <div class="metric">
            <span class="metric-label">Current SoC</span>
            <span class="metric-value" id="metric-current-soc">â€“</span>
          </div>
        </div>
      </section>

      <section class="panel-section">
        <h2>Battery SoC</h2>
        <canvas id="soc-chart" class="soc-chart"></canvas>
      </section>

      <section class="panel-section">
        <h2>Route Details</h2>
        <ul id="route-steps" class="route-step-list"></ul>
      </section>
    </aside>
  </main>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module" src="js/main.js"></script>
</body>
</html>
